{{define "title"}}Add Rack - Homelab IPAM{{end}}

{{define "content"}}
<div style="max-width: 600px; margin: 0 auto;">
    <h1 style="margin-bottom: 2rem;">{{if .ID}}Edit Rack{{else}}Add New Rack{{end}}</h1>

    <div class="card">
        <form action="{{if .ID}}/update-rack{{else}}/create-rack{{end}}" method="POST">
            {{if .ID}}<input type="hidden" name="id" value="{{.ID}}">{{end}}

            <div class="form-group">
                <label for="name">Rack Name</label>
                <input type="text" id="name" name="name" value="{{.Name}}" required autofocus
                    placeholder="e.g. Server Rack A">
            </div>

            <div class="form-group">
                <label for="location">Location</label>
                <input type="text" id="location" name="location" value="{{.Location}}"
                    placeholder="e.g. Basement, Garage">
            </div>

            <div class="form-group">
                <label for="height">Height (U)</label>
                <input type="number" id="height" name="height" value="{{if .Height}}{{.Height}}{{else}}42{{end}}"
                    placeholder="42">
            </div>

            <div class="form-group">
                <label for="status">Status</label>
                <select id="status" name="status">
                    <option value="Online" {{if eq .Status "Online" }}selected{{end}}>Online</option>
                    <option value="Offline" {{if eq .Status "Offline" }}selected{{end}}>Offline</option>
                    <option value="Maintenance" {{if eq .Status "Maintenance" }}selected{{end}}>Maintenance</option>
                </select>
            </div>

            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                <button type="submit" class="btn">Save Rack</button>
                <a href="/" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>
{{end}}